"use strict";(self.webpackChunkfilmoteka=self.webpackChunkfilmoteka||[]).push([[906],{2018:function(e,r,s){s.d(r,{Z:function(){return n}});var t="notFound_notfound__kFEWF",a=s(184),n=function(e){var r=e.text;return(0,a.jsx)("div",{className:t,children:(0,a.jsx)("p",{children:r})})}},3906:function(e,r,s){s.r(r),s.d(r,{default:function(){return j}});var t=s(5861),a=s(9439),n=s(4687),c=s.n(n),u=s(2791),i=s(1087),l=s(7689),o=s(9834),h=s(9126),_=s(2018),p=s(2726),d=s(2219),f={container:"search_container__pes1o",search:"search_search__mrQCm",search__input:"search_search__input__kz-8x",search__btn:"search_search__btn__sjknB",search__svg:"search_search__svg__d3LIO",search__error:"search_search__error__Ilez7",title:"search_title__VyHXl"},v=s(1412),x=s(5705),m=s(6727),y=s(184),j=function(){var e=(0,l.s0)(),r=(0,i.lr)(),s=(0,a.Z)(r,2),n=s[0],j=s[1],g=(0,u.useState)([]),k=(0,a.Z)(g,2),Z=k[0],b=k[1],N=(0,u.useState)(1),q=(0,a.Z)(N,2),w=q[0],S=q[1],C=(0,u.useState)(0),z=(0,a.Z)(C,2),F=z[0],I=z[1],P=(0,u.useState)(!1),V=(0,a.Z)(P,2),B=V[0],E=V[1];(0,u.useEffect)((function(){var e,r=null!==(e=n.get("query"))&&void 0!==e?e:"";if(r){var s=function(){var e=(0,t.Z)(c().mark((function e(){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,(0,o.gy)(r,w);case 4:s=e.sent,b(s.results),I(s.total_pages),E(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),j("");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();s()}}),[n,j,w]);var A=function(){var r=(0,t.Z)(c().mark((function r(s){var t,a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.query,e("/search?query=".concat(t)),r.prev=2,r.next=5,(0,o.gy)(t,w);case 5:a=r.sent,b(a.results),I(a.total_pages),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(2),console.log(r.t0),j("");case 14:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}(),H=m.Ry().shape({query:m.Z_().matches(/^[a-zA-Z\s'-]*$/,'Please, use only letters, -, ".').min(3).max(30).required()});return(0,y.jsxs)("div",{className:f.container,children:[(0,y.jsx)("h1",{className:f.title,children:"Search by name"}),(0,y.jsx)(x.J9,{initialValues:{query:""},validationSchema:H,onSubmit:A,children:function(e){e.errors,e.touched;return(0,y.jsxs)(x.l0,{className:f.search,children:[(0,y.jsx)(x.gN,{className:f.search__input,type:"text",name:"query",placeholder:"search.."}),(0,y.jsx)("button",{type:"submit",className:f.search__btn,children:(0,y.jsx)(h.dVI,{className:f.search__svg})}),(0,y.jsx)(x.Bc,{name:"query",component:"div",className:f.search__error})]})}}),(0,y.jsxs)("div",{className:f.wrapper,children:[0===Z.length&&(0,y.jsx)(_.Z,{text:"Search by key-word"}),B&&(0,y.jsx)(v.Z,{}),Z.length>0&&(0,y.jsxs)("div",{children:[(0,y.jsx)(p.Z,{movies:Z}),(0,y.jsx)(d.Z,{count:F,currentPage:w,handlePageChange:function(e,r){S(r)}})]})]})]})}}}]);
//# sourceMappingURL=906.c8e8e5e1.chunk.js.map