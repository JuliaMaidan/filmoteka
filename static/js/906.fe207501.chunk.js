"use strict";(self.webpackChunkfilmoteka=self.webpackChunkfilmoteka||[]).push([[906],{2018:function(e,r,t){t.d(r,{Z:function(){return a}});var s="notFound_notfound__kFEWF",n=t(184),a=function(e){var r=e.text;return(0,n.jsx)("div",{className:s,children:(0,n.jsx)("p",{children:r})})}},3906:function(e,r,t){t.r(r),t.d(r,{default:function(){return j}});var s=t(5861),n=t(9439),a=t(4687),c=t.n(a),u=t(2791),o=t(1087),i=t(7689),l=t(9834),h=t(9126),_=t(2018),d=t(2726),p=t(2593),v={container:"search_container__pes1o",search:"search_search__mrQCm",search__input:"search_search__input__kz-8x",search__btn:"search_search__btn__sjknB",search__svg:"search_search__svg__d3LIO",search__error:"search_search__error__Ilez7",title:"search_title__VyHXl"},x=t(1412),f=t(5705),m=t(6727),y=t(1306),g=t(184),j=function(){var e=(0,i.s0)(),r=(0,o.lr)(),t=(0,n.Z)(r,2),a=t[0],j=t[1],k=(0,u.useState)([]),Z=(0,n.Z)(k,2),b=Z[0],w=Z[1],N=(0,u.useState)(1),q=(0,n.Z)(N,2),S=q[0],C=q[1],P=(0,u.useState)(0),z=(0,n.Z)(P,2),F=z[0],I=z[1],V=(0,u.useState)(!1),B=(0,n.Z)(V,2),E=B[0],O=B[1];(0,u.useEffect)((function(){var e,r=null!==(e=a.get("query"))&&void 0!==e?e:"";if(r){var t=function(){var e=(0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,(0,l.gy)(r,S);case 4:t=e.sent,w(t.results),I(t.total_pages),O(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),j("");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();t()}}),[a,j,S]);var A=function(){var r=(0,s.Z)(c().mark((function r(t){var s,n;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.query,e("/search?query=".concat(s)),r.prev=2,r.next=5,(0,l.gy)(s,S);case 5:0===(n=r.sent).results.length&&(0,y.ZP)("Movies with name '".concat(s,"' weren't founded.")),w(n.results),I(n.total_pages),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),console.log(r.t0),j("");case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}(),H=m.Ry().shape({query:m.Z_().matches(/^[a-zA-Z\s'-]*$/,'Please, use only letters, -, ".').min(3).max(30).required()});return(0,g.jsxs)("div",{className:v.container,children:[(0,g.jsx)("div",{children:(0,g.jsx)(y.x7,{position:"top-right",toastOptions:{className:"toaster",style:{color:"white",backgroundColor:"#e38181"}}})}),(0,g.jsx)("h1",{className:v.title,children:"Search by name"}),(0,g.jsx)(f.J9,{initialValues:{query:""},validationSchema:H,onSubmit:A,children:function(e){e.errors,e.touched;return(0,g.jsxs)(f.l0,{className:v.search,children:[(0,g.jsx)(f.gN,{className:v.search__input,type:"text",name:"query",placeholder:"search.."}),(0,g.jsx)("button",{type:"submit",className:v.search__btn,children:(0,g.jsx)(h.dVI,{className:v.search__svg})}),(0,g.jsx)(f.Bc,{name:"query",component:"div",className:v.search__error})]})}}),(0,g.jsxs)("div",{className:v.wrapper,children:[0===b.length&&(0,g.jsx)(_.Z,{text:"Search by key-word"}),E&&(0,g.jsx)(x.Z,{}),b.length>0&&(0,g.jsxs)("div",{children:[(0,g.jsx)(d.Z,{movies:b}),(0,g.jsx)(p.Z,{count:F,currentPage:S,handlePageChange:function(e,r){C(r)}})]})]})]})}}}]);
//# sourceMappingURL=906.fe207501.chunk.js.map