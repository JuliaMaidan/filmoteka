"use strict";(self.webpackChunkfilmoteka=self.webpackChunkfilmoteka||[]).push([[846],{2018:function(t,n,e){e.d(n,{Z:function(){return a}});var i="notFound_notfound__kFEWF",s=e(184),a=function(t){var n=t.text;return(0,s.jsx)("div",{className:i,children:(0,s.jsx)("p",{children:n})})}},6419:function(t,n,e){e.d(n,{Z:function(){return C}});var i,s=e(168),a=e(1413),r=e(5987),o=e(9439),c=e(2791),l=e(1087),u=e(9126),d=e(8820),h=e(3329),f=e(3457),m=e(139),_=e(508),g=e(3764),x="watchingList_mylist__tXrMM",p="watchingList_mylist__item__YsMJK",j="watchingList_mylist__img__ZAZbd",v="watchingList_mylist__btns__VpGAQ",w="watchingList_mylist__btn__AgHfC",b="watchingList_mylist__svg__ibbHR",Z="watchingList_mylist__title__Q5vR3",y="watchingList_text__1VhwZ",N="watchingList_img__xOdC5",k=e(184),L=["open"],S=["in","children","onEnter","onExited"],C=function(t){var n=t.movies,e=t.onDeleteClick,i=(0,c.useState)(!1),s=(0,o.Z)(i,2),a=s[0],r=s[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("ul",{className:x,children:n.map((function(t){var n=t.id,i=t.title,s=t.poster_path;return(0,k.jsxs)("li",{className:p,children:[(0,k.jsx)("img",{className:j,src:"https://image.tmdb.org/t/p/w780/".concat(s),alt:i}),(0,k.jsx)("p",{className:Z,children:i}),(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("button",{className:w,"data-tooltip":"Show more info",children:(0,k.jsx)(l.rU,{to:"/movie/".concat(n),children:(0,k.jsx)(u.Vjl,{size:30,className:b})})}),(0,k.jsx)("button",{className:w,onClick:function(){return function(t){r(!0),setTimeout((function(){e(t)}),1100)}(n)},"data-tooltip":"Delete",children:(0,k.jsx)(d.VPh,{size:22,className:b})})]})]},n)}))}),(0,k.jsx)(m.Z,{"aria-labelledby":"spring-modal-title",open:a,onClose:function(){return r(!1)},closeAfterTransition:!0,slots:{backdrop:F},children:(0,k.jsx)(R,{in:a,children:(0,k.jsxs)(h.Z,{sx:I,children:[(0,k.jsx)("h2",{className:y,id:"spring-modal-title",children:"Movie has been deleted"}),(0,k.jsx)("img",{className:N,src:_,alt:"xx"})]})})})]})},E=c.forwardRef((function(t,n){var e=t.open,i=(0,r.Z)(t,L);return(0,k.jsx)(R,(0,a.Z)({ref:n,in:e},i))})),F=(0,f.Z)(E)(i||(i=(0,s.Z)(["\n  z-index: -1;\n  position: fixed;\n  inset: 0;\n  background-color: rgb(0 0 0 / 0.5);\n  -webkit-tap-highlight-color: transparent;\n"]))),R=c.forwardRef((function(t,n){var e=t.in,i=t.children,s=t.onEnter,o=t.onExited,c=(0,r.Z)(t,S),l=(0,g.q_)({from:{opacity:0},to:{opacity:e?1:0},onStart:function(){e&&s&&s(null,!0)},onRest:function(){!e&&o&&o(null,!0)}});return(0,k.jsx)(g.q.div,(0,a.Z)((0,a.Z)({ref:n,style:l},c),{},{children:i}))})),I=function(){return{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:240,borderRadius:"12px",padding:"10px 26px",background:"linear-gradient(90deg, rgba(110,60,143,1) 0%, rgba(141,106,184,1) 64%, rgba(113,122,190,1) 100%)",boxShadow:16,display:"flex",gap:"14px",alignItems:"center"}}},4846:function(t,n,e){e.r(n);var i=e(5861),s=e(9439),a=e(4687),r=e.n(a),o=e(2791),c=e(9834),l=e(6268),u=e(2018),d=e(6419),h=e(1412),f=e(184);n.default=function(){var t=(0,o.useState)([]),n=(0,s.Z)(t,2),e=n[0],a=n[1],m=(0,o.useState)(!1),_=(0,s.Z)(m,2),g=_[0],x=_[1],p=(0,o.useState)(!1),j=(0,s.Z)(p,2),v=j[0],w=j[1];(0,o.useEffect)((function(){var t=localStorage.getItem("watchingList"),n=t?JSON.parse(t):[],e=function(){var t=(0,i.Z)(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w(!0),t.next=4,Promise.all(n.map((function(t){return(0,c.TP)(t)})));case 4:e=t.sent,a(e),w(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445 \u0444\u0456\u043b\u044c\u043c\u0456\u0432:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();e()}),[g]);return(0,f.jsx)(f.Fragment,{children:v?(0,f.jsx)(h.Z,{}):(0,f.jsxs)("div",{className:l.Z.container,children:[(0,f.jsx)("h1",{className:l.Z.title,children:"Watching list"}),0===e.length?(0,f.jsx)(u.Z,{text:"Firstly add movies to your watching list"}):(0,f.jsx)(d.Z,{movies:e,onDeleteClick:function(t){var n=localStorage.getItem("watchingList"),e=(n?JSON.parse(n):[]).filter((function(n){return n!==parseInt(t)}));a(e),localStorage.setItem("watchingList",JSON.stringify(e)),console.log(t),x(!g)}})]})})}},6268:function(t,n){n.Z={container:"myList_container__wGjPG",title:"myList_title__0Gxpf"}}}]);
//# sourceMappingURL=846.0964cda3.chunk.js.map