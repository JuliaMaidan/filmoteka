{"version":3,"file":"static/js/643.d46a199a.chunk.js","mappings":"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","sources":["webpack://filmoteka/./src/components/NotFound/notFound.module.scss?65a4","components/NotFound/NotFound.jsx","webpack://filmoteka/./src/components/WatchingList/watchingList.module.scss?a3e6","components/WatchingList/WatchingList.jsx","pages/Favorite.jsx","webpack://filmoteka/./src/components/styled/myList.module.scss?9fa7"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"notfound\":\"notFound_notfound__kFEWF\"};","import styles from \"./notFound.module.scss\";\n\nconst NotFound = ({ text }) => {\n  return (\n    <div className={styles.notfound}>\n      <p>{text}</p>\n    </div>\n  );\n};\nexport default NotFound;\n","// extracted by mini-css-extract-plugin\nexport default {\"mylist\":\"watchingList_mylist__tXrMM\",\"mylist__wrapper\":\"watchingList_mylist__wrapper__2dTRd\",\"mylist__item\":\"watchingList_mylist__item__YsMJK\",\"mylist__img\":\"watchingList_mylist__img__ZAZbd\",\"mylist__btns\":\"watchingList_mylist__btns__VpGAQ\",\"mylist__btn\":\"watchingList_mylist__btn__AgHfC\",\"mylist__svg\":\"watchingList_mylist__svg__ibbHR\",\"mylist__title\":\"watchingList_mylist__title__Q5vR3\",\"text\":\"watchingList_text__1VhwZ\",\"img\":\"watchingList_img__xOdC5\"};","import { useState } from 'react';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BsInfo } from 'react-icons/bs';\nimport { AiOutlineDelete } from 'react-icons/ai';\nimport PropTypes from 'prop-types';\nimport { Box, styled } from '@mui/system';\nimport Modal from '@mui/material/Modal';\nimport image from '../../images/bg/bg.png';\nimport { useSpring, animated } from '@react-spring/web';\nimport styles from './watchingList.module.scss';\n\nconst WatchingList = ({ movies, onDeleteClick }) => {\n  const [open, setOpen] = useState(false);\n  const handleClose = () => setOpen(false);\n\n  const handleDelete = id => {\n    setOpen(true);\n\n    setTimeout(() => {\n      onDeleteClick(id);\n    }, 1100);\n  };\n\n  return (\n    <>\n      <ul className={styles.mylist}>\n        {movies.map(({ id, title, poster_path }) => (\n          <li className={styles.mylist__item} key={id}>\n            <img\n              className={styles.mylist__img}\n              src={`https://image.tmdb.org/t/p/w780/${poster_path}`}\n              alt={title}\n            />\n            <p className={styles.mylist__title}>{title}</p>\n            <div className={styles.mylist__btns}>\n              <button\n                className={styles.mylist__btn}\n                data-tooltip=\"Show more info\"\n              >\n                <Link to={`/movie/${id}`}>\n                  <BsInfo size={30} className={styles.mylist__svg} />\n                </Link>\n              </button>\n              <button\n                className={styles.mylist__btn}\n                onClick={() => handleDelete(id)}\n                data-tooltip=\"Delete\"\n              >\n                <AiOutlineDelete size={22} className={styles.mylist__svg} />\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <Modal\n        aria-labelledby=\"spring-modal-title\"\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        slots={{ backdrop: StyledBackdrop }}\n      >\n        <Fade in={open}>\n          <Box sx={style}>\n            <h2 className={styles.text} id=\"spring-modal-title\">\n              Movie has been deleted\n            </h2>\n            <img className={styles.img} src={image} alt=\"xx\" />\n          </Box>\n        </Fade>\n      </Modal>\n    </>\n  );\n};\n\nexport default WatchingList;\n\nconst Backdrop = React.forwardRef((props, ref) => {\n  const { open, ...other } = props;\n  return <Fade ref={ref} in={open} {...other} />;\n});\n\nBackdrop.propTypes = {\n  open: PropTypes.bool.isRequired,\n};\n\nconst StyledBackdrop = styled(Backdrop)`\n  z-index: -1;\n  position: fixed;\n  inset: 0;\n  background-color: rgb(0 0 0 / 0.5);\n  -webkit-tap-highlight-color: transparent;\n`;\n\nconst Fade = React.forwardRef(function Fade(props, ref) {\n  const { in: open, children, onEnter, onExited, ...other } = props;\n  const style = useSpring({\n    from: { opacity: 0 },\n    to: { opacity: open ? 1 : 0 },\n    onStart: () => {\n      if (open && onEnter) {\n        onEnter(null, true);\n      }\n    },\n    onRest: () => {\n      if (!open && onExited) {\n        onExited(null, true);\n      }\n    },\n  });\n\n  return (\n    <animated.div ref={ref} style={style} {...other}>\n      {children}\n    </animated.div>\n  );\n});\n\nFade.propTypes = {\n  children: PropTypes.element.isRequired,\n  in: PropTypes.bool,\n  onEnter: PropTypes.func,\n  onExited: PropTypes.func,\n};\n\nconst style = () => ({\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 240,\n  borderRadius: '12px',\n  padding: '10px 26px',\n  background:\n    'linear-gradient(90deg, rgba(110,60,143,1) 0%, rgba(141,106,184,1) 64%, rgba(113,122,190,1) 100%)',\n  boxShadow: 16,\n  display: 'flex',\n  gap: '14px',\n  alignItems: 'center',\n});\n","import React, { useState, useEffect } from 'react';\nimport { getMovieDetails } from '../services/fetchMovies';\nimport NotFound from '../components/NotFound/NotFound';\nimport WatchingList from '../components/WatchingList/WatchingList';\nimport styles from '../components/styled/myList.module.scss';\nimport Loader from 'components/Loader/Loader';\n\nconst Favorite = () => {\n  const [favoriteMovies, setFavoriteMovies] = useState([]);\n  const [favoritesUpdated, setFavoritesUpdated] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const favorites = localStorage.getItem('favorites');\n    const favoriteIds = favorites ? JSON.parse(favorites) : [];\n\n    const fetchFavoriteMovies = async () => {\n      try {\n        setIsLoading(true);\n        const movies = await Promise.all(\n          favoriteIds.map(id => getMovieDetails(id))\n        );\n        setFavoriteMovies(movies);\n        setIsLoading(false);\n      } catch (error) {\n        console.log('Помилка при отриманні улюблених фільмів:', error);\n      }\n    };\n    fetchFavoriteMovies();\n  }, [favoritesUpdated]);\n\n  const onDeleteClick = id => {\n    const myList = localStorage.getItem('favorites');\n    const myListIds = myList ? JSON.parse(myList) : [];\n    const updatedFavorites = myListIds.filter(\n      movieId => movieId !== parseInt(id)\n    );\n    setFavoriteMovies(updatedFavorites);\n    localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n    console.log(id);\n    setFavoritesUpdated(!favoritesUpdated);\n  };\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div className={styles.container}>\n          <h1 className={styles.title}>Favorite movies</h1>\n          {favoriteMovies.length === 0 ? (\n            <NotFound text=\"Firstly add movies to your watching list\" />\n          ) : (\n            <WatchingList\n              movies={favoriteMovies}\n              onDeleteClick={onDeleteClick}\n            />\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Favorite;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"myList_container__wGjPG\",\"title\":\"myList_title__0Gxpf\"};"],"names":["text","className","styles","movies","onDeleteClick","useState","open","setOpen","map","id","title","poster_path","src","alt","to","size","onClick","setTimeout","handleDelete","Modal","onClose","closeAfterTransition","slots","backdrop","StyledBackdrop","Fade","in","Box","sx","style","image","Backdrop","React","props","ref","other","styled","children","onEnter","onExited","useSpring","from","opacity","onStart","onRest","position","top","left","transform","width","borderRadius","padding","background","boxShadow","display","gap","alignItems","favoriteMovies","setFavoriteMovies","favoritesUpdated","setFavoritesUpdated","isLoading","setIsLoading","useEffect","favorites","localStorage","getItem","favoriteIds","JSON","parse","fetchFavoriteMovies","Promise","all","getMovieDetails","console","log","length","myList","updatedFavorites","filter","movieId","parseInt","setItem","stringify"],"sourceRoot":""}